//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage
// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime
// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs
// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.
// v4 adds AMD/UMD, commonJS, and plain browser support
// v4.1 adds url download capability via solo URL argument (same domain/CORS only)
// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors
// https://github.com/rndme/download
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function e(t,n,o){function a(e){var t=e.split(/[:;,]/),n=t[1],o="base64"==t[2]?atob:decodeURIComponent,a=o(t.pop()),r=a.length,i=0,d=new Uint8Array(r)
for(i;i<r;++i)d[i]=a.charCodeAt(i)
return new b([d],{type:n})}function r(e,t){if("download"in p)return p.href=e,p.setAttribute("download",w),p.className="download-js-link",p.innerHTML="downloading...",p.style.display="none",document.body.appendChild(p),setTimeout(function(){p.click(),document.body.removeChild(p),!0===t&&setTimeout(function(){l.URL.revokeObjectURL(p.href)},250)},66),!0
if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0
var n=document.createElement("iframe")
document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}var i,d,l=window,s="application/octet-stream",c=o||s,u=t,f=!n&&!o&&u,p=document.createElement("a"),m=function(e){return String(e)},b=l.Blob||l.MozBlob||l.WebKitBlob||m,w=n||"download"
if(b=b.call?b.bind(l):Blob,"true"===String(this)&&(u=[u,c],c=u[0],u=u[1]),f&&f.length<2048&&(w=f.split("/").pop().split("?")[0],p.href=f,-1!==p.href.indexOf(f))){var h=new XMLHttpRequest
return h.open("GET",f,!0),h.responseType="blob",h.onload=function(t){e(t.target.response,w,s)},setTimeout(function(){h.send()},0),h}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(u)){if(!(u.length>2096103.424&&b!==m))return navigator.msSaveBlob?navigator.msSaveBlob(a(u),w):r(u)
u=a(u),c=u.type||s}else if(/([\x80-\xff])/.test(u)){var g=0,v=new Uint8Array(u.length),y=v.length
for(g;g<y;++g)v[g]=u.charCodeAt(g)
u=new b([v],{type:c})}if(i=u instanceof b?u:new b([u],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(i,w)
if(l.URL)r(l.URL.createObjectURL(i),!0)
else{if("string"==typeof i||i.constructor===m)try{return r("data:"+c+";base64,"+l.btoa(i))}catch(e){return r("data:"+c+","+encodeURIComponent(i))}d=new FileReader,d.onload=function(e){r(this.result)},d.readAsDataURL(i)}return!0}})
